var O=typeof window<"u"&&window,L=O&&O.document,C=L&&L.createElement.bind(L),E=L&&L.createElementNS.bind(L),_=L&&L.createTextNode.bind(L),M=L&&L.createComment.bind(L),N=L&&L.createDocumentFragment.bind(L);O||(globalThis.document={createElement:()=>({}),createTextNode:()=>({}),createComment:()=>({}),createElementNS:()=>({})});var $=(D)=>{let q=D[0];return q&&typeof q=="object"&&q.constructor===Object?{p:q,c:D.slice(1),r:q.ref,h:q.innerHTML}:{p:{},c:D,r:0,h:0}},y=(D,q)=>(...H)=>{let{p:j,c:z,r:I,h:J}=$(H),B=q?E(q,D):C(D);I&&(I.current=B);for(let K in j){let P=j[K];K[0]=="o"&&K[1]=="n"&&typeof P=="function"?B.addEventListener(K.slice(2).toLowerCase(),P):typeof P=="function"?o(B,K,P):P===!0?B.setAttribute(K,K):P!=null&&P!==!1&&B.setAttribute(K,P+"")}if(J!=null)return B.innerHTML=J+"",B;for(let K of z.flat(1/0))K!=null&&B.appendChild(K instanceof Node?K:typeof K=="function"?V(K):_(K+""));return B},k=(D)=>new Proxy({},{get:O?(q,H)=>y(H,D):g}),u=new Proxy({},{get:(D,q)=>y(q)}),Q=[],U=[],R=[],W=[],X=[],S=[],Y=0,Z=0,F=0,x=0;O&&O.requestAnimationFrame(function D(){let q=O.performance.now(),H=0;for(let j=0;j<Z;j++){let z=R[j];if(!z?.isConnected){H=1;continue}let I=W[j],J=X[j];if(!I||!J)continue;let B=J();if(B!==S[j])B===!0?z.setAttribute(I,I):B==null||B===!1?z.removeAttribute(I):z.setAttribute(I,B+""),S[j]=B}for(let j=0;j<Y;j++){let z=Q[j];if(!z?.isConnected){H=1;continue}let I=U[j];if(!I)continue;let J=I(),B=z.previousSibling;if(!B)continue;(J instanceof Node?B instanceof HTMLElement&&J instanceof HTMLElement&&B.outerHTML!==J.outerHTML:B.nodeType!==3||B.textContent!==J+"")&&B.replaceWith(J instanceof Node?J:_(J+""))}if(H&&++x>59){x=0;let j=0;for(let z=0;z<Y;z++)Q[z]?.isConnected&&(Q[j]=Q[z],U[j++]=U[z]);Y=j,j=0;for(let z=0;z<Z;z++)R[z]?.isConnected&&(R[j]=R[z],W[j]=W[z],X[j]=X[z],S[j++]=S[z]);Z=j}F=O.performance.now()-q,O.requestAnimationFrame(D)});var V=(D)=>{let q=Y++,H=M(""),j=D(),z=j instanceof Node?j:_(j+""),I=N();return I.appendChild(z),I.appendChild(H),Q[q]=H,U[q]=D,I},o=(D,q,H)=>{let j=Z++,z=H();z===!0?D.setAttribute(q,q):z!=null&&z!==!1&&D.setAttribute(q,z+""),R[j]=D,W[j]=q,X[j]=H,S[j]=z},b=()=>F,A="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr".split(","),f=(D)=>A.includes(D),T=(D)=>D.replace(/[&"'<>]/g,(q)=>({"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"})[q]||q),G=(D)=>{let q="";for(let H in D){let j=D[H];if(H[0]=="o"&&H[1]=="n"||typeof j=="function")continue;q+=j===!0?` ${H}`:j!=null&&j!==!1?` ${H}="${T(j+"")}"`:""}return q},g=(D,q)=>(...H)=>{let{p:j,c:z,h:I}=$(H),J=`<${q}${G(j)}`;if(f(q))return J+"/>";if(J+=">",I!=null)return J+(typeof I=="function"?I():I)+`</${q}>`;for(let B of z.flat(1/0))B!=null&&(J+=typeof B=="function"?B():B);return J+`</${q}>`},m=new Proxy({},{get:g}),p=$,w=T,l=G;export{k as useTags,u as tags,m as staticTags,p as parseTagArgs,b as getFrameTime,w as escapeHtml,l as buildAttributesHtml};
